<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>网络入门 | F9F</title>

<link rel="shortcut icon" href="https://f9f.fun/favicon.ico?v=1695121195895">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="/styles/main.css">

<style>
    hr {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
    }
</style>

<script src="/media/scripts/highlight.min.js"></script>
<script src="/media/scripts/dockerfile.min.js"></script>
<script src="/media/scripts/dart.min.js"></script>


<canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:99999999;pointer-events:none;"> </canvas>
<script type="text/javascript" src="/media/scripts/anime.min.js"></script>
<script type="text/javascript" src="/media/scripts/fireworks.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <script src="/media/scripts/aplayer/APlayer.min.js"></script>
<link rel="stylesheet" href="/media/scripts/aplayer/APlayer.min.css">
<div id="aplayer" class="aplayer"  data-id="" data-server="netease" data-type="playlist" data-fixed="true" data-listfolded="true" data-order="random" data-theme="#F58EA8"></div>
<script src="/media/scripts/jquery-ui.js"></script>
<script src="/media/scripts/jquery-ui.min.js"></script>

<script src="/media/scripts/time_add.js"></script></br>
<style>
    /* 导航栏样式 */
    .navbar {
        position: relative;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        -ms-flex-align: center;
        align-items: center;
        -ms-flex-pack: justify;
        justify-content: space-between;
        padding: 0.5rem 1rem;
    }

    .navbar-brand {
        display: inline-block;
        padding-top: 0.3125rem;
        padding-bottom: 0.3125rem;
        margin-right: 1rem;
        font-size: 1.25rem;
        line-height: inherit;
        white-space: nowrap;
    }

    .navbar-brand:hover,
    .navbar-brand:focus {
        text-decoration: none;
    }

    .navbar-nav {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction: column;
        flex-direction: column;
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
    }

    .navbar-collapse {
        -ms-flex-preferred-size: 100%;
        flex-basis: 100%;
        -ms-flex-positive: 1;
        flex-grow: 1;
        -ms-flex-align: center;
        align-items: center;
    }

    .navbar-toggler {
        padding: 0.25rem 0.75rem;
        font-size: 1.25rem;
        line-height: 1;
        background-color: transparent;
        border: 1px solid transparent;
        border-radius: 0.25rem;
    }

    .navbar-toggler:hover,
    .navbar-toggler:focus {
        text-decoration: none;
    }

    @media (min-width: 992px) {
        .navbar-expand-lg {
            -ms-flex-flow: row nowrap;
            flex-flow: row nowrap;
            -ms-flex-pack: start;
            justify-content: flex-start;
        }

        .navbar-expand-lg .navbar-nav {
            -ms-flex-direction: row;
            flex-direction: row;
        }

        .navbar-expand-lg .navbar-collapse {
            display: -ms-flexbox !important;
            display: flex !important;
            -ms-flex-preferred-size: auto;
            flex-basis: auto;
        }

        .navbar-expand-lg .navbar-toggler {
            display: none;
        }
    }

    @media (max-width: 991px) {
        #navbarSupportedContent {
            display: none;
        }
    }
</style>

<!-- <button id="myImg">分享出去</button> -->

<script src="/media/scripts/jquery-3.5.1.min.js"></script>
<script src="/media/scripts/jquery-ui.js"></script>
<script src="/media/scripts/jquery-ui.min.js"></script>
<script src="/media/scripts/index.js"></script>


<link rel="stylesheet" href="/media/script/jquery-ui.min.css">

<nav class="navbar navbar-expand-lg">
    <div class="navbar-brand"  id="myImg" title="点我分享出去哦~">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            F9F
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" id="right_list">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>

    <div class="list_menu">
    <div class="list_right">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    首页
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    归档
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    标签
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    关于
                </a>
                
            </div>
            
        </div>
    </div>
    </div>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    首页
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    归档
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    标签
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    关于
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1695121195895"
                action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* 移动端导航栏展开/收起切换 */
    document.getElementById('changeNavbar').onclick = function () {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>
<script type="text/javascript" src="/media/scripts/mouse_text.js"></script>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    网络入门
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2023-07-19 ·
                    </time>
                    
                </div>
                <div class="post-content">
                    <h1 id="introductory-networking">Introductory Networking</h1>
<h1 id="网络入门">网络入门</h1>
<h2 id="1osi模型概述">1.OSI模型：概述</h2>
<p>OSI（<strong>O</strong>pen <strong>S ystems</strong> <strong>I</strong>nterconnection）模型是一个标准化模型，我们用它来演示计算机网络背后的理论。在实践中，它实际上是现实世界网络所基于的更紧凑的 TCP/IP 模型;但是，在许多方面，OSI 模型更容易获得初步理解。</p>
<p>OSI 模型由七层组成：</p>
<figure data-type="image" tabindex="1"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlOSI-Table.png" alt="显示 OSI 层的表：应用程序、演示文稿、会话、传输、网络、数据链路、物理" loading="lazy"></figure>
<p>有许多助记符可以帮助您了解 OSI 模型的层 - 四处搜索，直到找到您喜欢的。</p>
<p>我个人赞成： <strong>A</strong>焦虑的 P ale <strong>S</strong>hakespeare <strong>T</strong>reated <strong>N</strong>ervous <strong>D</strong>runks <strong>P</strong>atily</p>
<p>让我们依次简要地看一下其中的每一个：</p>
<p><strong>第 7 层——应用层（Application）：</strong></p>
<p>OSI 模型的应用层本质上是为计算机上运行的程序提供网络选项，应用层几乎只与应用程序一起工作，为它们提供一个接口来传输数据；当数据被提供给应用层后，这些数据接下来就会向下传递给表示层。</p>
<p><strong>第 6 层——表示层（Presentation）：</strong></p>
<p>表示层从应用层接收数据，这些数据往往会采用本机中的应用程序可以理解的格式，但不一定采用接收方计算机中的应用层可以理解的标准化格式；表示层会将数据转换为标准化格式，并处理对数据的任何加密、压缩或其他转换过程，当表示层完成数据处理后，这些数据将向下传递到会话层。</p>
<p><strong>第 5 层——会话层（Session）：</strong></p>
<p>当会话层从表示层接收到格式正确的数据时，它会查看是否可以通过网络与另一台计算机建立连接，如果不能，则它会发回一个错误，并且该过程不会继续进行；如果可以建立会话，那么会话层的工作就是维护所建立的会话，并与远程计算机的会话层合作以同步通信。</p>
<p>会话层特别重要，因为它创建的会话对于所讨论的通信是唯一的，这就能够允许你同时向不同端点发出多个请求而不会混淆所有数据(例子：同时在 Web 浏览器中打开两个选项卡而不会出现网页响应错误)，当会话层成功建立主机和远程计算机之间的连接后，数据将向下传递到第 4 层--传输层。</p>
<p><strong>第 4 层——传输层（Transport）：</strong></p>
<p>传输层是一个非常有趣的层，它提供了许多重要的功能，它的第一个目的是选择传输数据的协议，传输层最常见的两种协议是TCP（传输控制协议）和UDP（用户数据报协议）； 使用 TCP协议时，传输是基于连接的，这意味着在请求期间要建立并维护计算机之间的连接，这允许进行可靠的传输，因为成功建立的连接可用于确保数据包全部到达正确的位置，TCP 连接允许两台计算机保持持续通信，以确保以可接受的速度发送数据，并能重新发送任何丢失的数据；而使用UDP传输，情况则正好相反，数据包基本上会被直接扔到接收方计算机上——如果接收方不能及时接收数据，那就是接收方的问题（这就是为什么如果网络连接不佳，进行类似 Skype 的视频传输时 可能会导致画面像素化）。</p>
<p>总而言之：TCP 通常会被选择用于传输精度高于速度的情况（例如文件传输或加载网页），而 UDP 将用于速度需求更重要的情况（例如视频流）。</p>
<p>选择了所使用的传输协议后，传输层会将数据传输分成小块进行（在 TCP 上称为数据段，在 UDP 上称为数据报），这使得成功传输消息变得更加容易。</p>
<p><strong>第 3 层——网络层（Network）：</strong></p>
<p>网络层负责定位关于你的请求的目的地，互联网是一个巨大的网络，当你想从某个网页请求信息时，网络层则会获取相关页面的 IP 地址并找出最佳路由（进行逻辑寻址）；在这个阶段，我们正在使用的仍然是由软件控制的所谓逻辑地址（即 IP 地址），逻辑地址可用于为网络提供秩序，它能对网络进行分类从而允许我们对它们进行适当的排序，目前最常见的逻辑地址形式是 IPV4 格式，你对此可能比较熟悉（如 192.168.1.1 是家用路由器的常用地址，192.168.1.1就是典型的IPV4格式）。</p>
<p><strong>第 2 层——数据链路层（Data Link）：</strong></p>
<p>数据链路层侧重于传输过程中的物理寻址，它从网络层接收数据包（包括远程计算机的 IP 地址）并添加接收端点的物理 (MAC) 地址；每台启用网络的计算机内部都有一个网络接口卡 (NIC)，它带有一个唯一的 MAC（媒体访问控制）地址以供识别；MAC 地址由制造商设置并直接烧入卡中，它们无法被更改——尽管它们可以被欺骗，当通过网络发送信息时，实际上是根据物理地址来确定将信息发送到哪里。</p>
<p>此外，以适合传输的格式呈现数据也是数据链路层的工作。</p>
<p>数据链路层在接收数据时也起着重要的作用，因为它会检查接收到的信息以确保它在传输过程中没有被破坏，这很可能发生在数据向第 1 层（物理层）传输时。</p>
<p><strong>第 1 层——物理层（Physical）：</strong></p>
<p>物理层直接涉及到计算机的硬件，这一层是 在网络中传输的构成数据的电脉冲信号 被发送和接收的地方。</p>
<p>物理层的工作是将传输过程中的二进制数据转换为电信号并通过网络进行传输，以及接收传入的电信号并将其转换回二进制数据。</p>
<figure data-type="image" tabindex="2"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719125400790.png" alt="image-20230719125400790" loading="lazy"></figure>
<figure data-type="image" tabindex="3"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719125412917.png" alt="image-20230719125412917" loading="lazy"></figure>
<h2 id="2封装">2.封装</h2>
<p>当数据沿模型的每一层向下传递时，包含特定于相关层的详细信息的更多信息将添加到传输的开始处。例如，网络层添加的标头将包括源和目标 IP 地址等内容，传输层添加的标头将包括（除其他事项外）特定于正在使用的协议的信息。数据链路层还在传输<em>结束时</em>添加一块，用于验证数据在传输时是否未损坏;这也具有提高安全性的额外好处，因为数据无法在不破坏拖车的情况下被拦截和篡改。 整个过程称为<em>封装;</em> 将数据从一台计算机发送到另一台计算机的过程。</p>
<figure data-type="image" tabindex="4"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage.jpeg" alt="封装过程" loading="lazy"></figure>
<p>请注意，封装的数据在过程的不同步骤中被赋予不同的名称。在第 7、6 和 5 层中，数据简称为数据。在传输层中，封装的数据称为段或数据报（取决于是否选择了TCP或UDP作为传输协议）。在网络层，数据称为数据包。当数据包传递到数据链路层时，它就变成了一个帧，当它通过网络传输时，帧已经被分解成比特。</p>
<p>当第二台计算机收到消息时，它会逆转该过程 - 从物理层开始，一直工作到应用程序层，在此过程中剥离添加的信息。这称为<em>解封装。</em> 因此，您可以将 OSI 模型的层视为存在于具有网络功能的每台计算机中。虽然在实践中并没有那么明确，但计算机都遵循相同的封装过程来发送数据并在收到数据时解封装。</p>
<p>封装和解封装的过程非常重要 - 不仅因为它们的实际用途，还因为它们为我们提供了一种发送数据的标准化方法。这意味着所有传输将始终遵循相同的方法，允许任何支持网络的设备向任何其他可访问设备发送请求，并确保它被理解 - 无论它们是否来自同一制造商;使用相同的操作系统;或任何其他因素。</p>
<figure data-type="image" tabindex="5"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719131303856.png" alt="image-20230719131303856" loading="lazy"></figure>
<h2 id="tcpip模型">TCP/IP模型</h2>
<p>TCP/IP 模型在许多方面与 OSI 模型非常相似，是现实世界网络的基础。</p>
<p>TCP/IP 模型由四层组成——应用层(Application)、传输层(Transport)、网际层(Internet )和网络接口层(Network Interface)，它们涵盖了与 OSI 七层模型相同的功能范围。</p>
<figure data-type="image" tabindex="6"><a href="https://img2023.cnblogs.com/blog/2857591/202303/2857591-20230315224141282-957615416.png"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwl2857591-20230315224141282-957615416.png" alt="image" loading="lazy"></a></figure>
<p>**注意：**一些资料会将 TCP/IP 模型分为五层——将上图中的网络接口层再分为数据链路层和物理层（与 OSI 模型中的数据链路层和物理层一样）；TCP/IP五层模型也是公认的、众所周知的，但是，它没有被正式定义（与 RFC1122 中定义的原始四层模型不同）；TCP/IP模型具体有几层，主要取决于你选择使用哪个版本——无论是四层TCP/IP模型 还是 五层TCP/IP模型，通常都被认为是有效的。</p>
<p>如果 OSI 模型实际上并未用于现实世界中的任何事物，那么你就有理由问我们为什么要费心使用 OSI 模型？这个问题的答案很简单：OSI 模型（由于比 TCP/IP 模型更精简和更严格）往往更容易让学习者学习网络的初始理论。</p>
<p>OSI模型与TCP/IP模型的匹配情况如下：</p>
<figure data-type="image" tabindex="7"><a href="https://img2023.cnblogs.com/blog/2857591/202303/2857591-20230315224155992-1430566953.png"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwl2857591-20230315224155992-1430566953.png" alt="image" loading="lazy"></a></figure>
<p>数据的封装和解封装过程在 TCP/IP 模型中的工作方式与在 OSI 模型中的工作方式完全相同，在 TCP/IP 模型的每一层，都会有一个报头在封装期间被添加，并在解封装期间被移除。</p>
<p>分层模型非常适合辅助教学，它向我们展示了如何封装数据并通过网络发送数据的一般过程，但这个过程实际上是如何发生的呢？</p>
<p>当我们谈论 TCP/IP 时，也许会想到一个包含四层的分层模型，但TCP/IP实际上也是一套协议——协议是定义如何执行操作的规则集。TCP/IP 的名称来源于两个重要的协议：一个是传输控制协议（我们之前在 OSI 模型中提到过），英文缩写为TCP，它用于控制两个端点之间的数据流；另外一个是 Internet 协议，英文缩写为IP，它控制数据包的寻址方式和发送方式。 构成 TCP/IP 套件的协议还有很多，我们将在后面继续介绍其中的一些内容。</p>
<p>接下来我们将介绍TCP，如前所述，TCP 是一种基于连接的协议，换句话说，在通过 TCP 发送任何数据之前，必须先在两台计算机之间建立稳定的连接，而形成这种连接的过程被称为TCP三次握手。</p>
<p>当你尝试建立连接时，你的计算机会首先向远程服务器发送一个特殊请求，表明它想要初始化一个连接，此请求包含了被称为 SYN位（SYN是“synchronise”的缩写，含义是：同步）的东西，这实际上是在开始建立连接过程时 所进行的第一次接触；然后服务器将响应一个包含 SYN 位的数据包，同时还包含了一个称为 ACK 的“acknowledgement(确认)”位；最后，你的计算机将继续发送一个包含 ACK 位的数据包，以确认连接已成功建立。随着TCP三次握手的成功完成，两台计算机之间就可以可靠地传输数据了，而且任何在传输过程中丢失或损坏的数据都会被重新发送，从而导致TCP连接看起来是无损的。</p>
<figure data-type="image" tabindex="8"><a href="https://img2023.cnblogs.com/blog/2857591/202303/2857591-20230315224209492-1295960061.png"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwl2857591-20230315224209492-1295960061.png" alt="image" loading="lazy"></a></figure>
<p>***注意：***本文不打算逐步深入探讨TCP是如何工作的，在本文中——我们知道在使用 TCP 建立连接之前必须执行三次握手就足够了。</p>
<p>***关于两种分层模型的历史：***准确理解最初创建 TCP/IP 模型 和 OSI 模型的原因很重要。一开始计算机界没有标准化模型——不同的制造商都遵循他们自己的方法来规划网络，因此不同制造商制造的系统在网络方面完全不兼容；为了解决网络不兼容的问题，美国国防部于 1982 年引入了TCP/IP 模型，以提供一个统一标准——供所有不同制造商共同遵循的标准；后来国际标准化组织（ISO）引入了OSI模型，但是，OSI模型主要用作一个更全面的学习指南，因此 TCP/IP 模型仍然是现代网络理论所基于的标准。</p>
<figure data-type="image" tabindex="9"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719132401338.png" alt="image-20230719132401338" loading="lazy"></figure>
<figure data-type="image" tabindex="10"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719132409945.png" alt="image-20230719132409945" loading="lazy"></figure>
<h2 id="3网络工具ping">3网络工具ping</h2>
<p>在这个阶段，希望所有的理论都是有意义的，你现在了解了计算机网络背后的基本模型。在房间的其余部分，我们将看看一些可以在实际应用程序中使用的命令行网络工具。其中许多工具确实可以在其他操作系统上运行，但为了简单起见，我将假设您在本房间的其余部分运行Linux。我们要看的第一个工具是命令。<code>ping</code></p>
<hr>
<p>当我们想要测试是否可以连接到远程资源时，将使用 ping 命令。通常这将是互联网上的一个网站，但如果您想检查它是否正确配置，它也可能是家庭网络上的计算机。Ping 使用 ICMP 协议工作，这是前面提到的不太知名的 TCP/IP 协议之一。ICMP 协议在 OSI 模型的网络层工作，因此在 TCP/IP 模型的因特网层工作。ping 的基本语法是 。在这个例子中，我们使用ping来测试是否可以与谷歌建立网络连接：<code>ping &lt;target&gt;</code></p>
<figure data-type="image" tabindex="11"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-14.png" alt="Ping 谷歌 - 这是可能的" loading="lazy"></figure>
<p>请注意，ping 命令实际上返回了它连接到的 Google 服务器的 IP 地址，而不是请求的网址。这是一个方便的ping辅助应用程序，因为它可用于确定托管网站的服务器的IP地址。ping的一大优点是它几乎无处不在于任何支持网络的设备。所有操作系统都支持开箱即用，甚至大多数嵌入式设备都可以使用 ping！</p>
<p>尝试以下问题。任何关于语法的问题都可以使用 ping 手册页（在 Linux 上）来回答。<code>man ping</code></p>
<figure data-type="image" tabindex="12"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719132718889.png" alt="image-20230719132718889" loading="lazy"></figure>
<figure data-type="image" tabindex="13"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719132729563.png" alt="image-20230719132729563" loading="lazy"></figure>
<h2 id="4网络工具-traceroute">4.网络工具-Traceroute</h2>
<p><code>ping</code> 命令的逻辑后续是“<strong>traceroute</strong>”，<strong>traceroute</strong>可用于映射 你的请求在前往目标机器时所采用的路径。</p>
<p>互联网由许多不同的服务器和端点组成，它们彼此联网。这意味着，为了获得您真正想要的内容，您首先需要通过一堆其他服务器。路由跟踪允许您查看其中每个连接 - 它允许您查看计算机和请求的资源之间的每个中间步骤。Linux 上 traceroute 的基本语法是这样的： <code>traceroute &lt;destination&gt;</code></p>
<p>默认情况下，Windows 跟踪路由实用程序 （） 使用与 ping 相同的 ICMP 协议运行，而 Unix 等效程序通过 UDP 运行。在这两种情况下，这都可以通过开关进行更改。<code>tracert</code></p>
<figure data-type="image" tabindex="14"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-15.png" alt="执行到 Google.com 的路由跟踪" loading="lazy"></figure>
<p>您可以看到从我的路由器（）到Google服务器需要13个跃点，地址为216.58.205.46<code>_gateway</code></p>
<p>现在轮到你了。和以前一样，所有关于开关的问题都可以用 traceroute<br>
（） 的手册页来回答。<code>man traceroute</code></p>
<figure data-type="image" tabindex="15"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719133407040.png" alt="image-20230719133407040" loading="lazy"></figure>
<h2 id="5网络工具-whois">5.网络工具-WHOIS</h2>
<p>域名(Domain Names)——互联网的无名救世主，你能想象记住要访问的每个网站的 IP 地址是什么感觉吗？ 这是一个可怕的想法，好在我们可以使用域名。</p>
<p>我们将在下一小节中更多地讨论域名是如何工作的，但在本节中我们知道域名能够转换为IP地址就足够了（例如，我们可以在浏览器中输入tryhackme.com去访问和此域名相关的网站，而不需要输入TryHackMe的具体IP地址）；域名由被称为域名注册商的公司所出租，如果你想要得到一个域名，你可以去注册商处进行注册，然后就能租用该域名一段时间了。</p>
<p>我们可以使用whois 查询域名由谁注册，你可能会从whois查询中获得大量信息（由于个人信息可能会被隐藏处理，因此whois查询也可能会提供很少有效信息）。</p>
<p>如果你不喜欢使用命令行工具(<code>whois</code>)，也可以选择使用在线whois工具：https://www.whois.com/whois/</p>
<p>**注意：**在使用whois前 你可能需要先进行工具安装，在基于 Debian 的系统上，这可以通过 <code>sudo apt update &amp;&amp; sudo apt-get install whois</code> 完成。</p>
<p>Whois 查询非常容易执行，只需使用命令<code>whois &lt;domain&gt;</code>即可获取有关域名注册的可用信息列表：</p>
<figure data-type="image" tabindex="16"><a href="https://img2023.cnblogs.com/blog/2857591/202303/2857591-20230315224502635-179328391.png"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwl2857591-20230315224502635-179328391.png" alt="image" loading="lazy"></a></figure>
<p>观察上图：这是经常可以找到的相对非常少量的信息，我们已经获得了目标的域名、注册该域名的公司、上次续订时间、下一次到期时间，以及有关名称服务器的一些信息。</p>
<figure data-type="image" tabindex="17"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719134039264.png" alt="image-20230719134039264" loading="lazy"></figure>
<h2 id="6网络工具-dig">6.网络工具-Dig</h2>
<p>我们在上一小节中谈到了域——现在让我们谈谈它们是如何工作的。</p>
<p>有没有想过如何将 URL 转换为你的计算机可以理解的 IP 地址？ 答案是使用被称为 DNS（域名系统-Domain Name System）的 TCP/IP 协议。</p>
<p>简单地说，DNS 允许我们请求一个特殊的服务器 以此为我们提供 我们试图访问的网站的 IP 地址。例如，如果我们向 www.google.com 发出请求，我们的计算机会首先向一个特殊的 DNS 服务器发送请求（你的计算机知道如何找到它），然后DNS服务器会寻找到 Google 的 IP 地址并将其发回给我们，然后我们的计算机就可以将请求发送到 Google 服务器的 IP。</p>
<p>让我们对以上过程进行分解。</p>
<p>我们向目标网站发出请求，本地计算机所做的第一件事情是检查本地缓存，查看缓存中是否已经为目标网站存储了一个相关的 IP 地址；如果本地缓存中有目标IP，则可以直接将请求发送到目标ip，如果本地缓存中没有目标ip，则将进入流程的下一阶段。</p>
<p>假设在本地缓存中尚未找到目标ip地址，本地计算机将向所谓的递归(<strong>recursive</strong>) DNS 服务器发送请求，这些服务器自动为我们网络上的路由器所知，许多 Internet 服务提供商 (ISP) 都会维护自己的递归服务器，Google 和 OpenDNS 等公司也控制了一些递归服务器。本地计算机能够知道向何处发送信息请求：因为递归 DNS 服务器的详细信息已经存储在我们的路由器中。递归DNS服务器将维护流行域的结果缓存，但是，如果我们所请求的网站并没有存储在递归DNS服务器的缓存中，那么递归DNS服务器会将请求再传递给根名称DNS服务器。</p>
<p>2004 年之前，世界上正好有 13 个根名称 DNS 服务器，现在还有更多，但是，它们仍然可以使用 与分配给原始服务器相同的 13 个 IP 地址进行访问（为了保持平衡以便我们在发出请求时获得最近的服务器）。 根名称服务器会跟踪下一级的 DNS 服务器，然后选择一个合适的服务器并将我们的请求重定向到该服务器，这些相比于根名称服务器的较低级别的服务器被称为顶级域服务器。</p>
<p>顶级域 (TLD-Top-Level Domain) 服务器被拆分为多个扩展。例如，如果我们正在搜索 tryhackme.com，我们的请求将被重定向到处理<code>.com</code>域的 TLD 服务器；如果我们正在搜索 bbc.co.uk，我们的请求将被重定向到处理 <code>.co.uk</code>域的 TLD 服务器。与根名称服务器一样，TLD 服务器也会继续跟踪下一级：权威名称服务器(Authoritative name servers)，当 TLD 服务器收到我们的信息请求时，服务器会将其传递给适当的权威名称服务器。</p>
<p>权威名称服务器用于直接存储域的 DNS 记录。换句话说，世界上的每个域都将其 DNS 记录存储在某个地方的权威名称服务器上，它们是信息的来源。当我们的请求到达我们正在查询的域的权威名称服务器时，它就会将相关信息发回给我们，从而允许我们的计算机连接到我们所请求的域对应的 IP 地址。</p>
<p>当我们在web浏览器中访问网站时，以上一切过程都会自动发生，但我们也可以使用名为<code>dig</code> 的工具来手动完成，与<code>ping</code>和<code>traceroute</code>一样，<code>dig</code>也可以在 Linux 系统上进行安装。</p>
<pre><code>dig`允许我们手动查询我们所选择的递归 DNS 服务器以获取有关域的信息：`dig &lt;domain&gt; @&lt;dns-server-ip&gt;
</code></pre>
<p>这是一个非常有用的网络故障排除工具。</p>
<figure data-type="image" tabindex="18"><a href="https://img2023.cnblogs.com/blog/2857591/202303/2857591-20230315224701236-1868922104.png"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwl2857591-20230315224701236-1868922104.png" alt="image" loading="lazy"></a></figure>
<p>执行dig命令之后，我们得到了很多信息，我们发送了一个查询并成功（即无错误）收到了一个完整的答复——正如预期的那样，返回结果中会包含我们所查询的域名所对应的 IP 地址。</p>
<p>dig 能够提供给我们的另一个有趣信息是 查询到的 DNS 记录的 TTL（生存时间）。如前所述，当我们的计算机完成域名查询时，会将结果存储在本地缓存中，而DNS记录的 TTL 将告诉本地计算机何时停止将此DNS记录视为有效——即何时应该再次请求数据，而不是一直依赖于本地缓存的副本记录。</p>
<p>TTL 可以在dig返回结果中的“ANSWER section” 的第二列找到：</p>
<figure data-type="image" tabindex="19"><a href="https://img2023.cnblogs.com/blog/2857591/202303/2857591-20230315224716734-1653258106.png"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwl2857591-20230315224716734-1653258106.png" alt="image" loading="lazy"></a></figure>
<p>**tips：**重要的是要记住 TTL（在 DNS 缓存的上下文中）以秒为单位，因此上图示例中的DNS记录将在 2 分 37 秒后过期。</p>
<figure data-type="image" tabindex="20"><img src="https://f9f-1316728572.cos.ap-shanghai.myqcloud.com/fwlimage-20230719134334038.png" alt="image-20230719134334038" loading="lazy"></figure>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://f9f.fun/post/tryhackme-ba-chang-my-robot-ctf/" class="post-title gt-a-link">
                    Tryhackme靶场-My Robot CTF
                </a>
            </div>
        

        
            <span id="/post/wang-luo-ru-men/" class="leancloud_visitors" data-flag-title="网络入门">
                <em class="post-meta-item-text">阅读量 </em>
                <i class="leancloud-visitors-count">0</i>
            </span>
        

        
            
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
<script>
    // md5.min.js
    !function(n){
        "use strict";
        function d(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}
        function f(n,t,r,e,o,u){return d((c=d(d(t,n),d(e,u)))<<(f=o)|c>>>32-f,r);var c,f}
        function l(n,t,r,e,o,u,c){return f(t&r|~t&e,n,t,o,u,c)}
        function v(n,t,r,e,o,u,c){return f(t&e|r&~e,n,t,o,u,c)}
        function g(n,t,r,e,o,u,c){return f(t^r^e,n,t,o,u,c)}
        function m(n,t,r,e,o,u,c){return f(r^(t|~e),n,t,o,u,c)}
        function i(n,t){var r,e,o,u,c;n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var f=1732584193,i=-271733879,a=-1732584194,h=271733878;for(r=0;r<n.length;r+=16)f=l(e=f,o=i,u=a,c=h,n[r],7,-680876936),h=l(h,f,i,a,n[r+1],12,-389564586),a=l(a,h,f,i,n[r+2],17,606105819),i=l(i,a,h,f,n[r+3],22,-1044525330),f=l(f,i,a,h,n[r+4],7,-176418897),h=l(h,f,i,a,n[r+5],12,1200080426),a=l(a,h,f,i,n[r+6],17,-1473231341),i=l(i,a,h,f,n[r+7],22,-45705983),f=l(f,i,a,h,n[r+8],7,1770035416),h=l(h,f,i,a,n[r+9],12,-1958414417),a=l(a,h,f,i,n[r+10],17,-42063),i=l(i,a,h,f,n[r+11],22,-1990404162),f=l(f,i,a,h,n[r+12],7,1804603682),h=l(h,f,i,a,n[r+13],12,-40341101),a=l(a,h,f,i,n[r+14],17,-1502002290),f=v(f,i=l(i,a,h,f,n[r+15],22,1236535329),a,h,n[r+1],5,-165796510),h=v(h,f,i,a,n[r+6],9,-1069501632),a=v(a,h,f,i,n[r+11],14,643717713),i=v(i,a,h,f,n[r],20,-373897302),f=v(f,i,a,h,n[r+5],5,-701558691),h=v(h,f,i,a,n[r+10],9,38016083),a=v(a,h,f,i,n[r+15],14,-660478335),i=v(i,a,h,f,n[r+4],20,-405537848),f=v(f,i,a,h,n[r+9],5,568446438),h=v(h,f,i,a,n[r+14],9,-1019803690),a=v(a,h,f,i,n[r+3],14,-187363961),i=v(i,a,h,f,n[r+8],20,1163531501),f=v(f,i,a,h,n[r+13],5,-1444681467),h=v(h,f,i,a,n[r+2],9,-51403784),a=v(a,h,f,i,n[r+7],14,1735328473),f=g(f,i=v(i,a,h,f,n[r+12],20,-1926607734),a,h,n[r+5],4,-378558),h=g(h,f,i,a,n[r+8],11,-2022574463),a=g(a,h,f,i,n[r+11],16,1839030562),i=g(i,a,h,f,n[r+14],23,-35309556),f=g(f,i,a,h,n[r+1],4,-1530992060),h=g(h,f,i,a,n[r+4],11,1272893353),a=g(a,h,f,i,n[r+7],16,-155497632),i=g(i,a,h,f,n[r+10],23,-1094730640),f=g(f,i,a,h,n[r+13],4,681279174),h=g(h,f,i,a,n[r],11,-358537222),a=g(a,h,f,i,n[r+3],16,-722521979),i=g(i,a,h,f,n[r+6],23,76029189),f=g(f,i,a,h,n[r+9],4,-640364487),h=g(h,f,i,a,n[r+12],11,-421815835),a=g(a,h,f,i,n[r+15],16,530742520),f=m(f,i=g(i,a,h,f,n[r+2],23,-995338651),a,h,n[r],6,-198630844),h=m(h,f,i,a,n[r+7],10,1126891415),a=m(a,h,f,i,n[r+14],15,-1416354905),i=m(i,a,h,f,n[r+5],21,-57434055),f=m(f,i,a,h,n[r+12],6,1700485571),h=m(h,f,i,a,n[r+3],10,-1894986606),a=m(a,h,f,i,n[r+10],15,-1051523),i=m(i,a,h,f,n[r+1],21,-2054922799),f=m(f,i,a,h,n[r+8],6,1873313359),h=m(h,f,i,a,n[r+15],10,-30611744),a=m(a,h,f,i,n[r+6],15,-1560198380),i=m(i,a,h,f,n[r+13],21,1309151649),f=m(f,i,a,h,n[r+4],6,-145523070),h=m(h,f,i,a,n[r+11],10,-1120210379),a=m(a,h,f,i,n[r+2],15,718787259),i=m(i,a,h,f,n[r+9],21,-343485551),f=d(f,e),i=d(i,o),a=d(a,u),h=d(h,c);return[f,i,a,h]}
        function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}
        function h(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}
        function e(n){var t,r,e="0123456789abcdef",o="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o}
        function r(n){return unescape(encodeURIComponent(n))}
        function o(n){return a(i(h(t=r(n)),8*t.length));var t}
        function u(n,t){return function(n,t){var r,e,o=h(n),u=[],c=[];for(u[15]=c[15]=void 0,16<o.length&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(h(t)),512+8*t.length),a(i(c.concat(e),640))}(r(n),r(t))}
        function t(n,t,r){return t?r?u(t,n):e(u(t,n)):r?o(n):e(o(n))}
        "function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.md5=t;
    }(this);
</script>


<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '',
    clientSecret: '',
    repo: '',
    owner: '',
    admin: [''],
    id: md5(location.pathname),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false       // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

            

            
        

        
            <script src="//unpkg.com/valine@1.4.4/dist/Valine.min.js"></script>
<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>

	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: '',
		appKey: '',
		avatar: '',
		pageSize: 5,
		recordIp: true,
		placeholder: 'Just Go Go',
		visitor: true,
		enableQQ: true,
		boolean: true,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">温故而知新</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <script src="/media/scripts/des.js"></script></br>
    <h4 id="sitetime"></h4></br>
    <div class="footer-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">F9F</a>
    </div>
    <div>
<div id="myModal" class="modal">
  <span class="close" onclick="document.getElementById('myModal').style.display='none'">&times;</span>
  <img class="modal-content" id="img01">
  <div id="caption"></div>
</div>
        Theme by <a href="https://www.minloha.cn" target="_blank">Minloha</a>, Powered by <a
                href="https://github.com" target="_blank">Gridea
    </div>
</div>
<script src="/media/scripts/Meting.min.js"></script>
<script src="/media/scripts/dialog.js"></script>
<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
